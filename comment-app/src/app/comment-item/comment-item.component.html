<div class="comment-item">
  <strong>{{ comment.userName }}</strong> <span>{{ comment.date | date: 'short' }}</span>
  <p>{{ comment.text }}</p>

  <div *ngIf="!comment.showReplyField">
    <button (click)="comment.showReplyField = true">Відповісти</button>
  </div>

  <div *ngIf="comment.showReplyField" class="reply-form">
    <input type="text" [(ngModel)]="comment.replyText" placeholder="Ваш коментар" />
    <button (click)="emitReply(comment.replyText || '')">Додати відповідь</button>
    <button (click)="comment.showReplyField = false">Відмінити</button>
  </div>

  <div class="replies" *ngIf="comment.comments?.length">
    <ng-container *ngFor="let reply of comment.comments">
      <app-comment-item [comment]="reply" (addReply)="addReply.emit($event)"></app-comment-item>
    </ng-container>
  </div>
</div>
